################# PATH Setting
export EDITOR=vim
export LANG=ja_JP.UTF-8

# PATH
export PATH=$PATH:/Developer/usr/bin/:/usr/local/google_appengine/:~/java/play-2.0.1/

# RVM
[[ -s "$HOME/.rvm/scripts/rvm" ]] && . "$HOME/.rvm/scripts/rvm"  # Load RVM into a shell session *as a function*

# MVN (Java)
export MVN_HOME=/Users/soichiro/java/apache-maven-2.2.1
export PATH=$MVN_HOME/bin:$PATH

# ANT (Java)
export ANT_OPTS='-Xms512m -Xmx1024m'

# Spring Roo
export ROO_HOME=/Users/soichiro/java/spring-roo-1.2.1.RELEASE
export PATH=$ROO_HOME/bin:$PATH

# RVM (Ruby)
[ -s ${HOME}/.rvm/scripts/rvm ] && source ${HOME}/.rvm/scripts/rvm


# ls
alias ls='ls -G'

# MacVim
alias mvi="mvim --remote-tab-silent"

# PHP
export PATH=/usr/local/Cellar/php/5.3.10/bin:$PATH

# MacVim for default vim
export EDITOR=/Applications/MacVim.app/Contents/MacOS/Vim
alias vi='env LANG=ja_JP.UTF-8 /Applications/MacVim.app/Contents/MacOS/Vim "$@"'
alias vim='env LANG=ja_JP.UTF-8 /Applications/MacVim.app/Contents/MacOS/Vim "$@"'

# git sync dotfiles
alias push_dotfiles='cd ~/dotfiles;git add . ;git commit -m "update";git push;cd ~;'
alias pull_dotfiles='cd ~/dotfiles;git pull;cd ~;'

# Homebrew Emacs for default emacs
alias emacs='/usr/local/bin/emacs-23.4'

# Homebrew ctags for default ctags
alias ctags='/usr/local/Cellar/ctags/5.8/bin/ctags'

################# zsh setting
# 補完機能
autoload -U compinit
compinit

# プロンプトの設定
case ${UID} in
0)
    PROMPT="%{[31m%}%n%%%{[m%} "
    RPROMPT="[%~]"
    PROMPT2="%B%{[31m%}%_#%{[m%}%b "
    SPROMPT="%B%{[31m%}%r is correct? [n,y,a,e]:%{[m%}%b "
    [ -n "${REMOTEHOST}${SSH_CONNECTION}" ] && 
        PROMPT="%{[37m%}${HOST%%.*} ${PROMPT}"
    ;;
*)
    PROMPT="%{[31m%}%n%%%{[m%} "
    RPROMPT="[%~]"
    PROMPT2="%{[31m%}%_%%%{[m%} "
    SPROMPT="%{[31m%}%r is correct? [n,y,a,e]:%{[m%} "
    [ -n "${REMOTEHOST}${SSH_CONNECTION}" ] && 
        PROMPT="%{[37m%}${HOST%%.*} ${PROMPT}"
    ;;
esac

# コマンド履歴
HISTFILE=~/.zsh_history
HISTSIZE=6000000
SAVEHIST=6000000
setopt hist_ignore_dups     # ignore duplication command history list
setopt share_history        # share command history data

# ディレクトリ名を入力するだけで移動
setopt auto_cd

# 移動したディレクトリを記録しておく。"cd -[Tab]"で移動履歴を一覧
setopt auto_pushd

# コマンド訂正
setopt correct

# 補完候補を詰めて表示する
setopt list_packed 

# 補完候補表示時などにピッピとビープ音をならないように設定
setopt nolistbeep

# viライクキーバインド設定
bindkey -v

# コマンド履歴検索
autoload history-search-end
zle -N history-beginning-search-backward-end history-search-end
zle -N history-beginning-search-forward-end history-search-end
bindkey "^P" history-beginning-search-backward-end
bindkey "^N" history-beginning-search-forward-end
